# Códigos para leer registro de equipos Boomer
---
# Registros de Boomer
Lo registro de los equipos Boomer se obtiene con un pendrive de Epiroc. se copia la carpeta "RIG NO 8999 3986 00" -->"PRODOUT" -->"QUALLOG". Los archivo son formato XML, cuales pueden ser procesados con librería de Python como "xml.etree.ElementTree"([Códigos para leer XML con xml.etree.ElementTree](/docs/capturas/Códigos-para-leer-XML-con-xmletreeElementTree.md)).

## Registro de ejemplo
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!-- Generated by the RCS System Epiroc Rock Drills AB -->
<DRPQual xmlns="http://www.iredes.org/xml/DrillRig" xmlns:IR="http://www.iredes.org/xml" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" IRVersion="V 1.2" IRDownwCompat="V 1.2" DRPQualDownwCompat="V 1.2" DRPQualVersion="V 1.2">
	<IR:GenHead>
		<IR:FileCreateDate>2019-12-25T05:38:28</IR:FileCreateDate>
		<IR:IRversion DownwCompat="V 1.2">V 1.2</IR:IRversion>
		<IR:EquipmentInfo>
			<IR:EqpManufact>Epiroc</IR:EqpManufact>
			<IR:EqpType>Boomer S2-C20</IR:EqpType>
			<IR:EqpSerNo>8999403000</IR:EqpSerNo>
			<IR:EqpSysVer>RCS 5.6.8</IR:EqpSysVer>
		</IR:EquipmentInfo>
	</IR:GenHead>
	<IR:ReportId>3016327</IR:ReportId>
	<IR:StartLogTime>2019-12-24T23:57:11</IR:StartLogTime>
	<IR:EndLogTime>2019-12-25T05:09:34</IR:EndLogTime>
	<IR:PlanIdRef>58+3 izq 51 mm</IR:PlanIdRef>
	<IR:PlanNameRef>58+3 izq 51 mm</IR:PlanNameRef>
	<ReferenceData>
		<TunLineRef>e716e8af9b564e59a9849936</TunLineRef>
		<LaserRef>-</LaserRef>
	</ReferenceData>
	<PositionQuality>
		<Coordsystem>
			<IR:CoordSysName/>
			<IR:TMatrix>
				<IR:Col>
					<IR:x>-0.000</IR:x>
					<IR:y>1.000</IR:y>
					<IR:z>-0.000</IR:z>
					<IR:w>0.000</IR:w>
				</IR:Col>
				<IR:Col>
					<IR:x>1.000</IR:x>
					<IR:y>-0.000</IR:y>
					<IR:z>0.000</IR:z>
					<IR:w>0.000</IR:w>
				</IR:Col>
				<IR:Col>
					<IR:x>0.000</IR:x>
					<IR:y>-0.000</IR:y>
					<IR:z>1.000</IR:z>
					<IR:w>0.000</IR:w>
				</IR:Col>
				<IR:Col>
					<IR:x>0.000</IR:x>
					<IR:y>-0.000</IR:y>
					<IR:z>0.000</IR:z>
					<IR:w>1.000</IR:w>
				</IR:Col>
			</IR:TMatrix>
			<IR:CsysType>R</IR:CsysType>
		</Coordsystem>
		<PlanIdRef>58+3 izq 51 mm</PlanIdRef>
		<PosComment>- LaserLineCoordinates [  0.00000000&#9; -0.00000000&#9;  0.00000000&#9;  0.00000000&#9; -0.00000000&#9;  0.00000000 ] TSN Prism Calibration status: Prism Calibration Unreliable Prism Diff Status: No differences</PosComment>
		<Bearing>0.000</Bearing>
		<SetUpType>MethodBasic</SetUpType>
	</PositionQuality>
	<DrillQuality>
		<HoleQualityData>
			<Hole>
				<HoleId>1</HoleId>
				<HoleName>Face Roc/Par  3.00  3.00</HoleName>
				<StartPoint>
					<IR:PointX>-0.444</IR:PointX>
					<IR:PointY>0.545</IR:PointY>
					<IR:PointZ>1.157</IR:PointZ>
				</StartPoint>
				<EndPoint>
					<IR:PointX>-0.436</IR:PointX>
					<IR:PointY>3.555</IR:PointY>
					<IR:PointZ>1.190</IR:PointZ>
				</EndPoint>
				<TypeOfHole>CutHole</TypeOfHole>
				<DrBitType>Others</DrBitType>
				<RollAngle>15.700</RollAngle>
				<MwdOn>1</MwdOn>
			</Hole>
			<BoomId>1</BoomId>
			<EndHoleTime>2019-12-25T04:47:13</EndHoleTime>
			<AutoMode>
				<PosMode>0</PosMode>
				<AnchoringMode>0</AnchoringMode>
				<CollaringMode>0</CollaringMode>
				<DrillMode>0</DrillMode>
				<ActivationMode>0</ActivationMode>
			</AutoMode>
			<HoleTimingData>
				<TimePerc>PT0H2M15S</TimePerc>
				<TimeDrill>PT0H2M25S</TimeDrill>
			</HoleTimingData>
			<DrillSeq>30</DrillSeq>
			<AvgPenetr>0.022293</AvgPenetr>
			<Hstatus>Success</Hstatus>
			<NumStops>1</NumStops>
			<DrilledInRock>3.010</DrilledInRock>
		</HoleQualityData>
		<HoleQualityData>
			<Hole>
				<HoleId>2</HoleId>
				<HoleName>Face Roc/Par  3.00  3.00</HoleName>
				<StartPoint>
					<IR:PointX>-0.840</IR:PointX>
					<IR:PointY>0.475</IR:PointY>
					<IR:PointZ>0.891</IR:PointZ>
				</StartPoint>
				<EndPoint>
					<IR:PointX>-0.828</IR:PointX>
					<IR:PointY>3.481</IR:PointY>
					<IR:PointZ>0.885</IR:PointZ>
				</EndPoint>
				<TypeOfHole>CutHole</TypeOfHole>
				<DrBitType>Others</DrBitType>
				<RollAngle>2.980</RollAngle>
				<MwdOn>1</MwdOn>
			</Hole>
			<BoomId>1</BoomId>
			<EndHoleTime>2019-12-25T04:02:21</EndHoleTime>
			<AutoMode>
				<PosMode>0</PosMode>
				<AnchoringMode>0</AnchoringMode>
				<CollaringMode>0</CollaringMode>
				<DrillMode>0</DrillMode>
				<ActivationMode>0</ActivationMode>
			</AutoMode>
			<HoleTimingData>
				<TimePerc>PT0H2M27S</TimePerc>
				<TimeDrill>PT0H4M53S</TimeDrill>
			</HoleTimingData>
			<DrillSeq>17</DrillSeq>
			<AvgPenetr>0.020448</AvgPenetr>
			<Hstatus>Success</Hstatus>
			<NumStops>2</NumStops>
			<DrilledInRock>3.006</DrilledInRock>
		</HoleQualityData>
	</DrillQuality>
	<IR:GenTrailer>
		<IR:FileCloseDate>2019-12-25T05:38:28</IR:FileCloseDate>
		<IR:ChkSum>0</IR:ChkSum>
	</IR:GenTrailer>
</DRPQual>
```
# Código en Python
``` python
aux = 0

df = pd.DataFrame({

    "File":[], # Nombre del archivo

    "Eqptype":[],  # Tipo de equipo

    "EqpSerNo":[], #Numero de serie del equipo

    "Equipo":[], # Equipo Nombre

    "StartLogTime":[], # inicio de perforación

    "EndLogTime":[], # fin de perforación

    "PlanIdRef":[], # diagrama

    "HoleId":[], # ID del tiro

    "StartX":[],

    "StartY":[],

    "StartZ":[],

    "EndX":[],

    "EndY":[],

    "EndZ":[],

    "TimePerc":[],# tiempo de percucion

    "TimeDrill":[], #tiempo de revolucion

    "DrillSeq":[], # N° de secuencia de perforación

    "TypeOfHole":[], # tipo de tiro

    "DrilledInRock":[] # metros perforados en roca

    }, dtype=str)

print("asdf: " + str(len(os.listdir("Data/"+carpeta))))

for i in tqdm.tqdm(os.listdir("Data/"+carpeta)):

    tree = ET.parse("Data/"+carpeta+"/"+str(i))

    root = tree.getroot()

    #print(i)

    #print(root[8].tag)

    if root[8].tag == "{http://www.iredes.org/xml/DrillRig}DrillQuality":

        #print(i)

        #print(len(root[8]))

        for j in range(len(root[8])):

            df.loc[aux + j,"File"] = str(i)

            df.loc[aux + j,"Eqptype"] = str(root[0][2][1].text)

            df.loc[aux + j,"EqpSerNo"] = str(root[0][2][2].text)

            if str(root[0][2][2].text) == "8999398600":

                df.loc[aux + j,"Equipo"] = "B-10"

            if str(root[0][2][2].text) == "8999399600":

                df.loc[aux + j,"Equipo"] = "B-11"

            if str(root[0][2][2].text) == "8999403000":

                df.loc[aux + j,"Equipo"] = "B-12"

            if str(root[0][2][2].text) == "8999403600":

                df.loc[aux + j,"Equipo"] = "B-13"

            if str(root[0][2][2].text) == "8999623700":

                df[aux + j,"Equipo"] = "B-14"

            df.loc[aux + j,"StartLogTime"] = str(root[2].text)

            df.loc[aux + j,"EndLogTime"] = str(root[3].text)

            df.loc[aux + j,"PlanIdRef"] = str(root[4].text)

            df.loc[aux + j,"HoleId"] = root[8][j][0][0].text

            df.loc[aux + j,"StartX"] = root[8][j][0][2][0].text

            df.loc[aux + j,"StartY"] = root[8][j][0][2][1].text

            df.loc[aux + j,"StartZ"] = root[8][j][0][2][2].text

            df.loc[aux + j,"EndX"] = root[8][j][0][3][0].text

            df.loc[aux + j,"EndY"] = root[8][j][0][3][1].text

            df.loc[aux + j,"EndZ"] = root[8][j][0][3][2].text

            df.loc[aux + j,"TimePerc"] = root[8][j][4][0].text

            df.loc[aux + j,"TimeDrill"] = root[8][j][4][1].text

            df.loc[aux + j,"DrillSeq"] = root[8][j][5].text

            df.loc[aux + j,"TypeOfHole"] = root[8][j][0][4].text

            df.loc[aux + j,"DrilledInRock"] = root[8][j][9].text

        aux = aux + len(root[8])

df.to_csv("Export/export_"+carpeta+".csv")
```

# Resultados
![imagen](./anexo/Pasted%20image%2020240612211839.png)
